# 🎧 系统声音记录器（System Audio Recorder）

一个**自动化的系统声音录制工具**。  
点击开始后，程序会**智能检测系统是否真的有声音**，只有在检测到声音时才开始录制，并在**长时间无声音时自动结束并保存**，同时自动裁剪无效静音片段。

非常适合用于：

- 🎵 音乐平台播放录制（如网易云音乐）
- 🎬 视频音频采集
- 📻 系统输出声音留存
- 🤖 自动化音频采集场景

---

## ✨ 核心亮点

- ✅ **只录系统声音**（Loopback，不录麦克风）
- ▶️ **点击开始后自动监听**
- 🔊 **检测到声音才开始录制（自动掐头）**
- ⏹ **连续 20 秒无声音自动结束录制**
- ✂️ **自动裁掉结尾的静音（去尾）**
- 🧠 **边录边存，内存占用极低**
- 🖥 **图形界面（GUI），无需命令行**
- 📦 提供 **Windows 可执行文件（EXE）**

---

## 🧠 工作原理简述

1. 程序监听系统输出（Loopback 声音）
2. 实时计算音频 RMS（音量能量）
3. 当音量超过阈值：
   - 🎶 判定为「有效声音」
   - 开始录制并写入文件
4. 当连续 **20 秒检测不到声音**：
   - 🛑 自动结束本次录制
   - ✂️ 自动裁掉结尾静音
   - 💾 保存为 WAV 文件

> 整个过程无需手动操作，适合长时间运行。

---

## 🖥 软件界面

界面显示内容包括：

- 当前监听设备
- 当前状态（监听 / 录制中 / 已停止）
- 实时 RMS 音量值
- 已保存文件数量
- 音频保存路径

---

## 📂 文件保存规则

- 默认保存目录：`songs/`
- 文件命名格式：

```text
song_001_20260203_115056.wav
song_002_20260203_115118.wav
```

- 格式：WAV
- 采样率：44.1 kHz
- 声道：立体声

------

## 🚀 使用方式（EXE）

### 方式一：直接使用（推荐）

1. 下载 `系统声音记录器.exe`
2. 双击运行
3. 点击「开始监听」
4. 播放系统声音（如音乐）
5. 停止播放后自动保存

无需 Python 环境。

------

## 🧑‍💻 使用方式（源码）

### 1️⃣ 环境要求

- Python 3.9 – 3.11（推荐 3.10）
- Windows 系统
- 支持 Loopback 的声卡驱动

### 2️⃣ 安装依赖

```
pip install numpy soundcard scipy
```

### 3️⃣ 运行

```
python system_audio_recorder.py
```

## 🧠 稳定性与性能说明

- ✅ 采用 **边录边写入磁盘** 的方式
- ✅ 内存仅保留最多 20 秒音频用于裁剪
- ❌ 不会随着录制数量增加而内存膨胀
- ✅ 连续录制数百条音频依然稳定

适合长时间挂机使用。

------

## ⚠️ 已知限制

- 当前仅支持 **Windows**
- 默认录制系统默认输出设备
- 输出格式为 WAV（后续可扩展 MP3）

------

## 🗺 未来计划（TODO）

-  WAV → MP3 / FLAC
-  音量阈值可配置
-  仅绑定指定应用（如网易云音乐）
-  录制历史列表
-  自动 ID3 标签

------

## 📄 License

MIT License
 自由使用，欢迎 Fork / PR / Issue。

------

## 🙌 作者

Made with ❤️ by **CuiYuan**
